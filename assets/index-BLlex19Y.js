(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function _(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=_(r);fetch(r.href,n)}})();var Q,v,De,U,ge,Ae,Ue,$e,le,_e,se,B={},Le=[],Ke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X=Array.isArray;function T(e,t){for(var _ in t)e[_]=t[_];return e}function ae(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ze(e,t,_){var s,r,n,i={};for(n in t)n=="key"?s=t[n]:n=="ref"?r=t[n]:i[n]=t[n];if(arguments.length>2&&(i.children=arguments.length>3?Q.call(arguments,2):_),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)i[n]===void 0&&(i[n]=e.defaultProps[n]);return Y(e,i,s,r,null)}function Y(e,t,_,s,r){var n={type:e,props:t,key:_,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++De,__i:-1,__u:0};return r==null&&v.vnode!=null&&v.vnode(n),n}function $(e){return e.children}function G(e,t){this.props=e,this.context=t}function I(e,t){if(t==null)return e.__?I(e.__,e.__i+1):null;for(var _;t<e.__k.length;t++)if((_=e.__k[t])!=null&&_.__e!=null)return _.__e;return typeof e.type=="function"?I(e):null}function Me(e){var t,_;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((_=e.__k[t])!=null&&_.__e!=null){e.__e=e.__c.base=_.__e;break}return Me(e)}}function pe(e){(!e.__d&&(e.__d=!0)&&U.push(e)&&!J.__r++||ge!=v.debounceRendering)&&((ge=v.debounceRendering)||Ae)(J)}function J(){for(var e,t,_,s,r,n,i,l=1;U.length;)U.length>l&&U.sort(Ue),e=U.shift(),l=U.length,e.__d&&(_=void 0,s=void 0,r=(s=(t=e).__v).__e,n=[],i=[],t.__P&&((_=T({},s)).__v=s.__v+1,v.vnode&&v.vnode(_),ue(t.__P,_,s,t.__n,t.__P.namespaceURI,32&s.__u?[r]:null,n,r??I(s),!!(32&s.__u),i),_.__v=s.__v,_.__.__k[_.__i]=_,xe(n,_,i),s.__e=s.__=null,_.__e!=r&&Me(_)));J.__r=0}function Ie(e,t,_,s,r,n,i,l,a,c,u){var o,h,f,y,E,b,g,d=s&&s.__k||Le,N=t.length;for(a=Qe(_,t,d,a,N),o=0;o<N;o++)(f=_.__k[o])!=null&&(h=f.__i==-1?B:d[f.__i]||B,f.__i=o,b=ue(e,f,h,r,n,i,l,a,c,u),y=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&fe(h.ref,null,f),u.push(f.ref,f.__c||y,f)),E==null&&y!=null&&(E=y),(g=!!(4&f.__u))||h.__k===f.__k?a=ke(f,a,e,g):typeof f.type=="function"&&b!==void 0?a=b:y&&(a=y.nextSibling),f.__u&=-7);return _.__e=E,a}function Qe(e,t,_,s,r){var n,i,l,a,c,u=_.length,o=u,h=0;for(e.__k=new Array(r),n=0;n<r;n++)(i=t[n])!=null&&typeof i!="boolean"&&typeof i!="function"?(a=n+h,(i=e.__k[n]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Y(null,i,null,null,null):X(i)?Y($,{children:i},null,null,null):i.constructor==null&&i.__b>0?Y(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,l=null,(c=i.__i=Xe(i,_,a,o))!=-1&&(o--,(l=_[c])&&(l.__u|=2)),l==null||l.__v==null?(c==-1&&(r>u?h--:r<u&&h++),typeof i.type!="function"&&(i.__u|=4)):c!=a&&(c==a-1?h--:c==a+1?h++:(c>a?h--:h++,i.__u|=4))):e.__k[n]=null;if(o)for(n=0;n<u;n++)(l=_[n])!=null&&(2&l.__u)==0&&(l.__e==s&&(s=I(l)),Oe(l,l));return s}function ke(e,t,_,s){var r,n;if(typeof e.type=="function"){for(r=e.__k,n=0;r&&n<r.length;n++)r[n]&&(r[n].__=e,t=ke(r[n],t,_,s));return t}e.__e!=t&&(s&&(t&&e.type&&!t.parentNode&&(t=I(e)),_.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Xe(e,t,_,s){var r,n,i,l=e.key,a=e.type,c=t[_],u=c!=null&&(2&c.__u)==0;if(c===null&&e.key==null||u&&l==c.key&&a==c.type)return _;if(s>(u?1:0)){for(r=_-1,n=_+1;r>=0||n<t.length;)if((c=t[i=r>=0?r--:n++])!=null&&(2&c.__u)==0&&l==c.key&&a==c.type)return i}return-1}function ve(e,t,_){t[0]=="-"?e.setProperty(t,_??""):e[t]=_==null?"":typeof _!="number"||Ke.test(t)?_:_+"px"}function C(e,t,_,s,r){var n,i;e:if(t=="style")if(typeof _=="string")e.style.cssText=_;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(t in s)_&&t in _||ve(e.style,t,"");if(_)for(t in _)s&&_[t]==s[t]||ve(e.style,t,_[t])}else if(t[0]=="o"&&t[1]=="n")n=t!=(t=t.replace($e,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=_,_?s?_.u=s.u:(_.u=le,e.addEventListener(t,n?se:_e,n)):e.removeEventListener(t,n?se:_e,n);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&_==1?"":_))}}function me(e){return function(t){if(this.l){var _=this.l[t.type+e];if(t.t==null)t.t=le++;else if(t.t<_.u)return;return _(v.event?v.event(t):t)}}}function ue(e,t,_,s,r,n,i,l,a,c){var u,o,h,f,y,E,b,g,d,N,H,F,k,he,W,x,Z,S=t.type;if(t.constructor!=null)return null;128&_.__u&&(a=!!(32&_.__u),n=[l=t.__e=_.__e]),(u=v.__b)&&u(t);e:if(typeof S=="function")try{if(g=t.props,d="prototype"in S&&S.prototype.render,N=(u=S.contextType)&&s[u.__c],H=u?N?N.props.value:u.__:s,_.__c?b=(o=t.__c=_.__c).__=o.__E:(d?t.__c=o=new S(g,H):(t.__c=o=new G(g,H),o.constructor=S,o.render=et),N&&N.sub(o),o.props=g,o.state||(o.state={}),o.context=H,o.__n=s,h=o.__d=!0,o.__h=[],o._sb=[]),d&&o.__s==null&&(o.__s=o.state),d&&S.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=T({},o.__s)),T(o.__s,S.getDerivedStateFromProps(g,o.__s))),f=o.props,y=o.state,o.__v=t,h)d&&S.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),d&&o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(d&&S.getDerivedStateFromProps==null&&g!==f&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(g,H),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(g,o.__s,H)===!1||t.__v==_.__v){for(t.__v!=_.__v&&(o.props=g,o.state=o.__s,o.__d=!1),t.__e=_.__e,t.__k=_.__k,t.__k.some(function(L){L&&(L.__=t)}),F=0;F<o._sb.length;F++)o.__h.push(o._sb[F]);o._sb=[],o.__h.length&&i.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(g,o.__s,H),d&&o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(f,y,E)})}if(o.context=H,o.props=g,o.__P=e,o.__e=!1,k=v.__r,he=0,d){for(o.state=o.__s,o.__d=!1,k&&k(t),u=o.render(o.props,o.state,o.context),W=0;W<o._sb.length;W++)o.__h.push(o._sb[W]);o._sb=[]}else do o.__d=!1,k&&k(t),u=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++he<25);o.state=o.__s,o.getChildContext!=null&&(s=T(T({},s),o.getChildContext())),d&&!h&&o.getSnapshotBeforeUpdate!=null&&(E=o.getSnapshotBeforeUpdate(f,y)),x=u,u!=null&&u.type===$&&u.key==null&&(x=Be(u.props.children)),l=Ie(e,X(x)?x:[x],t,_,s,r,n,i,l,a,c),o.base=t.__e,t.__u&=-161,o.__h.length&&i.push(o),b&&(o.__E=o.__=null)}catch(L){if(t.__v=null,a||n!=null)if(L.then){for(t.__u|=a?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;n[n.indexOf(l)]=null,t.__e=l}else{for(Z=n.length;Z--;)ae(n[Z]);ne(t)}else t.__e=_.__e,t.__k=_.__k,L.then||ne(t);v.__e(L,t,_)}else n==null&&t.__v==_.__v?(t.__k=_.__k,t.__e=_.__e):l=t.__e=Ze(_.__e,t,_,s,r,n,i,a,c);return(u=v.diffed)&&u(t),128&t.__u?void 0:l}function ne(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ne)}function xe(e,t,_){for(var s=0;s<_.length;s++)fe(_[s],_[++s],_[++s]);v.__c&&v.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){v.__e(n,r.__v)}})}function Be(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:X(e)?e.map(Be):T({},e)}function Ze(e,t,_,s,r,n,i,l,a){var c,u,o,h,f,y,E,b=_.props,g=t.props,d=t.type;if(d=="svg"?r="http://www.w3.org/2000/svg":d=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),n!=null){for(c=0;c<n.length;c++)if((f=n[c])&&"setAttribute"in f==!!d&&(d?f.localName==d:f.nodeType==3)){e=f,n[c]=null;break}}if(e==null){if(d==null)return document.createTextNode(g);e=document.createElementNS(r,d,g.is&&g),l&&(v.__m&&v.__m(t,n),l=!1),n=null}if(d==null)b===g||l&&e.data==g||(e.data=g);else{if(n=n&&Q.call(e.childNodes),b=_.props||B,!l&&n!=null)for(b={},c=0;c<e.attributes.length;c++)b[(f=e.attributes[c]).name]=f.value;for(c in b)if(f=b[c],c!="children"){if(c=="dangerouslySetInnerHTML")o=f;else if(!(c in g)){if(c=="value"&&"defaultValue"in g||c=="checked"&&"defaultChecked"in g)continue;C(e,c,null,f,r)}}for(c in g)f=g[c],c=="children"?h=f:c=="dangerouslySetInnerHTML"?u=f:c=="value"?y=f:c=="checked"?E=f:l&&typeof f!="function"||b[c]===f||C(e,c,f,b[c],r);if(u)l||o&&(u.__html==o.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(o&&(e.innerHTML=""),Ie(t.type=="template"?e.content:e,X(h)?h:[h],t,_,s,d=="foreignObject"?"http://www.w3.org/1999/xhtml":r,n,i,n?n[0]:_.__k&&I(_,0),l,a),n!=null)for(c=n.length;c--;)ae(n[c]);l||(c="value",d=="progress"&&y==null?e.removeAttribute("value"):y!=null&&(y!==e[c]||d=="progress"&&!y||d=="option"&&y!=b[c])&&C(e,c,y,b[c],r),c="checked",E!=null&&E!=e[c]&&C(e,c,E,b[c],r))}return e}function fe(e,t,_){try{if(typeof e=="function"){var s=typeof e.__u=="function";s&&e.__u(),s&&t==null||(e.__u=e(t))}else e.current=t}catch(r){v.__e(r,_)}}function Oe(e,t,_){var s,r;if(v.unmount&&v.unmount(e),(s=e.ref)&&(s.current&&s.current!=e.__e||fe(s,null,t)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(n){v.__e(n,t)}s.base=s.__P=null}if(s=e.__k)for(r=0;r<s.length;r++)s[r]&&Oe(s[r],t,_||typeof e.type!="function");_||ae(e.__e),e.__c=e.__=e.__e=void 0}function et(e,t,_){return this.constructor(e,_)}function tt(e,t,_){var s,r,n,i;t==document&&(t=document.documentElement),v.__&&v.__(e,t),r=(s=!1)?null:t.__k,n=[],i=[],ue(t,e=t.__k=ze($,null,[e]),r||B,B,t.namespaceURI,r?null:t.firstChild?Q.call(t.childNodes):null,n,r?r.__e:t.firstChild,s,i),xe(n,e,i)}Q=Le.slice,v={__e:function(e,t,_,s){for(var r,n,i;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&n.getDerivedStateFromError!=null&&(r.setState(n.getDerivedStateFromError(e)),i=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,s||{}),i=r.__d),i)return r.__E=r}catch(l){e=l}throw e}},De=0,G.prototype.setState=function(e,t){var _;_=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=T({},this.state),typeof e=="function"&&(e=e(T({},_),this.props)),e&&T(_,e),e!=null&&this.__v&&(t&&this._sb.push(t),pe(this))},G.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),pe(this))},G.prototype.render=$,U=[],Ae=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ue=function(e,t){return e.__v.__b-t.__v.__b},J.__r=0,$e=/(PointerCapture)$|Capture$/i,le=0,_e=me(!1),se=me(!0);var _t=0;function p(e,t,_,s,r,n){t||(t={});var i,l,a=t;if("ref"in a)for(l in a={},t)l=="ref"?i=t[l]:a[l]=t[l];var c={type:e,props:a,key:_,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--_t,__i:-1,__u:0,__source:r,__self:n};if(typeof e=="function"&&(i=e.defaultProps))for(l in i)a[l]===void 0&&(a[l]=i[l]);return v.vnode&&v.vnode(c),c}var K=(e=>(e[e.ACE=0]="ACE",e[e.TWO=1]="TWO",e[e.THREE=2]="THREE",e[e.FOUR=3]="FOUR",e[e.FIVE=4]="FIVE",e[e.SIX=5]="SIX",e[e.SEVEN=6]="SEVEN",e[e.EIGHT=7]="EIGHT",e[e.NINE=8]="NINE",e[e.TEN=9]="TEN",e[e.JACK=10]="JACK",e[e.QUEEN=11]="QUEEN",e[e.KING=12]="KING",e))(K||{}),Fe=(e=>(e[e.CLUBS=0]="CLUBS",e[e.HEARTS=1]="HEARTS",e[e.SPADES=2]="SPADES",e[e.DIAMONDS=3]="DIAMONDS",e))(Fe||{});const st=new Map([[0,11],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,10],[11,10],[12,10]]);function A(e){let t=0,_=0;for(const s of e)s.rank===0&&++_,t+=st.get(s.rank);for(;_>0&&t>21;)t-=10,--_;return t}const nt="/assets/PlayingCards-BvUuumn9.svg",q=242,R=336.5,ot=R*.5,rt=q*.5,it=Object.values(Fe).filter(e=>typeof e=="number").flatMap(e=>Object.values(K).filter(t=>typeof t=="number").map(t=>{const _=Number(t)*q,s=Number(e)*R,r=`card-${e}-${t}`;return p("symbol",{id:r,viewBox:`0 0 ${q} ${R}`,children:p("image",{href:nt,x:-_,y:-s,width:q*13,height:R*4})},r)})),ct=()=>p("svg",{style:{display:"none"},children:it});function lt(e){return p("div",{class:"card",children:p("svg",{width:rt,height:ot,children:p("use",{href:`#card-${e.suit}-${e.rank}`})})})}function ye(e){return p($,{children:[p("p",{children:["Score: ",e.handValue??A(e.hand)]}),p("div",{className:"hand",children:e.hand.map(t=>p(lt,{...t}))})]})}class at{constructor(t=6){this.deckCount=t,this.cards=[],this.count=()=>this.cards.length,this.isEmpty=()=>this.cards.length===0,this.reset(),this.shuffle()}reset(){this.cards=[];for(let t=0;t<6;++t)for(let _=K.ACE;_<=K.KING;++_)for(let s=0;s<4;++s)this.cards.push({rank:_,suit:s})}shuffle(){for(let t=this.cards.length-1;t>0;--t){const _=Math.floor(Math.random()*(t+1));[this.cards[t],this.cards[_]]=[this.cards[_],this.cards[t]]}}draw(){if(this.isEmpty()){console.error("Deck is empty");return}return this.cards.pop()}}var O,m,ee,be,z=0,We=[],w=v,we=w.__b,Ee=w.__r,Ne=w.diffed,He=w.__c,Se=w.unmount,Pe=w.__;function de(e,t){w.__h&&w.__h(m,e,z||t),z=0;var _=m.__H||(m.__H={__:[],__h:[]});return e>=_.__.length&&_.__.push({}),_.__[e]}function V(e){return z=1,ut(Ye,e)}function ut(e,t,_){var s=de(O++,2);if(s.t=e,!s.__c&&(s.__=[Ye(void 0,t),function(l){var a=s.__N?s.__N[0]:s.__[0],c=s.t(a,l);a!==c&&(s.__N=[c,s.__[1]],s.__c.setState({}))}],s.__c=m,!m.__f)){var r=function(l,a,c){if(!s.__c.__H)return!0;var u=s.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!n||n.call(this,l,a,c);var o=s.__c.props!==l;return u.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(o=!0)}}),n&&n.call(this,l,a,c)||o};m.__f=!0;var n=m.shouldComponentUpdate,i=m.componentWillUpdate;m.componentWillUpdate=function(l,a,c){if(this.__e){var u=n;n=void 0,r(l,a,c),n=u}i&&i.call(this,l,a,c)},m.shouldComponentUpdate=r}return s.__N||s.__}function te(e,t){var _=de(O++,3);!w.__s&&Ve(_.__H,t)&&(_.__=e,_.u=t,m.__H.__h.push(_))}function Ce(e){return z=5,oe(function(){return{current:e}},[])}function oe(e,t){var _=de(O++,7);return Ve(_.__H,t)&&(_.__=e(),_.__H=t,_.__h=e),_.__}function ft(){for(var e;e=We.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(j),e.__H.__h.forEach(re),e.__H.__h=[]}catch(t){e.__H.__h=[],w.__e(t,e.__v)}}w.__b=function(e){m=null,we&&we(e)},w.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Pe&&Pe(e,t)},w.__r=function(e){Ee&&Ee(e),O=0;var t=(m=e.__c).__H;t&&(ee===m?(t.__h=[],m.__h=[],t.__.forEach(function(_){_.__N&&(_.__=_.__N),_.u=_.__N=void 0})):(t.__h.forEach(j),t.__h.forEach(re),t.__h=[],O=0)),ee=m},w.diffed=function(e){Ne&&Ne(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(We.push(t)!==1&&be===w.requestAnimationFrame||((be=w.requestAnimationFrame)||dt)(ft)),t.__H.__.forEach(function(_){_.u&&(_.__H=_.u),_.u=void 0})),ee=m=null},w.__c=function(e,t){t.some(function(_){try{_.__h.forEach(j),_.__h=_.__h.filter(function(s){return!s.__||re(s)})}catch(s){t.some(function(r){r.__h&&(r.__h=[])}),t=[],w.__e(s,_.__v)}}),He&&He(e,t)},w.unmount=function(e){Se&&Se(e);var t,_=e.__c;_&&_.__H&&(_.__H.__.forEach(function(s){try{j(s)}catch(r){t=r}}),_.__H=void 0,t&&w.__e(t,_.__v))};var Te=typeof requestAnimationFrame=="function";function dt(e){var t,_=function(){clearTimeout(s),Te&&cancelAnimationFrame(t),setTimeout(e)},s=setTimeout(_,35);Te&&(t=requestAnimationFrame(_))}function j(e){var t=m,_=e.__c;typeof _=="function"&&(e.__c=void 0,_()),m=t}function re(e){var t=m;e.__c=e.__(),m=t}function Ve(e,t){return!e||e.length!==t.length||t.some(function(_,s){return _!==e[s]})}function Ye(e,t){return typeof t=="function"?t(e):t}var D=(e=>(e[e.NONE=0]="NONE",e[e.BETTING=1]="BETTING",e[e.PLAYER_TURN=2]="PLAYER_TURN",e[e.DEALER_TURN=3]="DEALER_TURN",e[e.GAME_OVER=4]="GAME_OVER",e))(D||{});class Ge{}class qe{}class Re{}class ie{}class ce{}class je{}class M{constructor(t,_){this.score=t,this.hand=_}}function ht(e){const t=Ce(null),[_,s]=V(2),[r,n]=V([]),[i,l]=V([]),a=oe(()=>A(i),[i]),c=oe(()=>A(r),[r]),[u,o]=V(!1);te(()=>{t.current=new at,h()},[]);const h=async()=>{u||(o(!0),s(0),t.current.reset(),t.current.shuffle(),n([]),l([]),await e?.(new Re),s(1),o(!1))},f=async()=>{if(u)return;o(!0),s(0);const g=[t.current.draw()];n(g),await e?.(new M(A(g),g));let d=[t.current.draw()];l(d),await e?.(new M(A(d),d)),d=[...d,t.current.draw()];const N=A(d);l(d),await e?.(new M(N,d)),N<21?s(2):s(3),o(!1)},y=async()=>{if(u)return;o(!0),await e?.(new Ge);const g=[...i,t.current.draw()];l(g);const d=A(g);if(await e?.(new M(d,g)),d>21){s(4);return}if(d===21){s(3),o(!1);return}o(!1)},E=async()=>{u||(o(!0),await e?.(new qe),s(3),o(!1))},b=async()=>{await f()};return te(()=>{if(_!==3||u)return;if(c>=17){o(!0),s(4);return}(async()=>{o(!0),await new Promise(H=>setTimeout(H,1e3));const d=[...r,t.current.draw()],N=A(d);n(d),await e?.(new M(N,d)),o(!1)})()},[_,r,u]),te(()=>{if(_!==4)return;(async()=>{o(!0),a>21?await e?.(new ce):c>21?await e?.(new ie):a>c?await e?.(new ie):a<c?await e?.(new ce):await e?.(new je),o(!1)})()},[_]),{status:_,playerHand:i,dealerHand:r,playerScore:a,dealerScore:c,isProcessing:u,hit:y,stand:E,bet:b,restart:h}}const gt="/assets/10-CWq3FW1Z.ogg",pt="/assets/11-CLIJw4pw.ogg",vt="/assets/12-DSUqvtOr.ogg",mt="/assets/13-h6TOihet.ogg",yt="/assets/14-BiIY3nEr.ogg",bt="/assets/15-Dm_vFfs7.ogg",wt="/assets/16-gDyBEAu0.ogg",Et="/assets/17-CBGQJr5U.ogg",Nt="/assets/18-C5-BKAzE.ogg",Ht="/assets/19-B2TVQX_M.ogg",St="/assets/2-D8-yZNd9.ogg",Pt="/assets/20-CiH1Y3UU.ogg",Tt="/assets/21-Do6lb1im.ogg",Dt="/assets/3-FtlqN2Sm.ogg",At="/assets/4-BA1M41Co.ogg",Ut="/assets/5-Dl4OUZnU.ogg",$t="/assets/6-BymzZlCn.ogg",Lt="/assets/7-CUnDywB4.ogg",Mt="/assets/8-jDF5uX1b.ogg",It="/assets/9-S1GDco3p.ogg",kt="/assets/HookLoop-VqrS74Rf.ogg",xt="/assets/bet-DYmhGgv5.ogg",Bt="/assets/blackjack-hPlISxkA.ogg",Ot="/assets/bust-B5oiwMrW.ogg",Ft="/assets/double-BNWzgYbd.ogg",Wt="/assets/hit-C14N0pTD.ogg",Ct="/assets/lose-Ds7WvSt3.ogg",Vt="/assets/push-BpBmYWV_.ogg",Yt="/assets/split-I3JjJvls.ogg",Gt="/assets/stand-CJfDrmTN.ogg",qt="/assets/win-CF2p-cws.ogg",Rt=Object.assign({"/src/assets/audio/10.ogg":gt,"/src/assets/audio/11.ogg":pt,"/src/assets/audio/12.ogg":vt,"/src/assets/audio/13.ogg":mt,"/src/assets/audio/14.ogg":yt,"/src/assets/audio/15.ogg":bt,"/src/assets/audio/16.ogg":wt,"/src/assets/audio/17.ogg":Et,"/src/assets/audio/18.ogg":Nt,"/src/assets/audio/19.ogg":Ht,"/src/assets/audio/2.ogg":St,"/src/assets/audio/20.ogg":Pt,"/src/assets/audio/21.ogg":Tt,"/src/assets/audio/3.ogg":Dt,"/src/assets/audio/4.ogg":At,"/src/assets/audio/5.ogg":Ut,"/src/assets/audio/6.ogg":$t,"/src/assets/audio/7.ogg":Lt,"/src/assets/audio/8.ogg":Mt,"/src/assets/audio/9.ogg":It,"/src/assets/audio/HookLoop.ogg":kt,"/src/assets/audio/bet.ogg":xt,"/src/assets/audio/blackjack.ogg":Bt,"/src/assets/audio/bust.ogg":Ot,"/src/assets/audio/double.ogg":Ft,"/src/assets/audio/hit.ogg":Wt,"/src/assets/audio/lose.ogg":Ct,"/src/assets/audio/push.ogg":Vt,"/src/assets/audio/split.ogg":Yt,"/src/assets/audio/stand.ogg":Gt,"/src/assets/audio/win.ogg":qt}),Je=new Map,P=new Map;for(const[e,t]of Object.entries(Rt)){const s=(e.split("/").pop()||"").replace(".ogg",""),r=Number(s);if(!Number.isNaN(r)){Je.set(r,t);continue}P[s]=t}function jt(){const e=async n=>new Promise(i=>{const l=r.current;if(!l)return i();const a=()=>{l.removeEventListener("ended",a),i()};l.addEventListener("ended",a),l.src=n,l.play().catch(()=>{l.removeEventListener("ended",a),i()})}),_=ht(async n=>{if(n instanceof M){const i=n.score;if(i===21&&n.hand.length===2){await e(P.blackjack);return}if(i>21){await e(P.bust);return}await e(Je.get(i));return}if(n instanceof ie){await e(P.win);return}if(n instanceof ce){await e(P.lose);return}if(n instanceof Ge){await e(P.hit);return}if(n instanceof qe){await e(P.stand);return}if(n instanceof je){await e(P.push);return}if(n instanceof Re){await e(P.bet);return}}),s=Jt(_),r=Ce();return p($,{children:[p("audio",{src:"",autoPlay:!1,ref:r}),p("p",{id:"game-message",children:p("strong",{children:s})}),p("section",{children:[p("h3",{children:"Dealer"}),p(ye,{hand:_.dealerHand,handValue:_.dealerScore}),p("hr",{}),p("h3",{children:"You"}),p(ye,{hand:_.playerHand,handValue:_.playerScore})]}),p("hr",{}),p("div",{id:"action-btn-container",className:"btn-container",children:[p("button",{id:"bet-btn",onClick:_.bet,disabled:_.isProcessing||_.status!==D.BETTING,children:"Bet"}),p("button",{id:"hit-btn",onClick:_.hit,disabled:_.isProcessing||_.status!==D.PLAYER_TURN||_.playerScore>=21,children:"Hit"}),p("button",{id:"stand-btn",onClick:_.stand,disabled:_.isProcessing||_.status!==D.PLAYER_TURN,children:"Stand"}),p("button",{id:"restart-btn",onClick:_.restart,disabled:_.isProcessing||_.status!==D.GAME_OVER,children:"Play Again"})]})]})}function Jt(e){return e.status===D.NONE?"...":e.status===D.BETTING?"Place your bet":e.status===D.PLAYER_TURN?"Your turn":e.status===D.DEALER_TURN?"Dealer's turn":e.playerScore>21?"Bust! You lose.":e.dealerScore>21?"Dealer Busts! You win!":e.playerScore>e.dealerScore?"You win!":e.playerScore<e.dealerScore?"Dealer wins.":"Push!"}function Kt(){return p($,{children:[p(ct,{}),p(jt,{})]})}tt(p(Kt,{}),document.getElementById("app"));

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function _(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=_(r);fetch(r.href,o)}})();var Q,v,De,U,ge,Ae,Ue,$e,ae,_e,ne,B={},Le=[],Ke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X=Array.isArray;function T(e,t){for(var _ in t)e[_]=t[_];return e}function ce(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ze(e,t,_){var n,r,o,i={};for(o in t)o=="key"?n=t[o]:o=="ref"?r=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?Q.call(arguments,2):_),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return Y(e,i,n,r,null)}function Y(e,t,_,n,r){var o={type:e,props:t,key:_,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++De,__i:-1,__u:0};return r==null&&v.vnode!=null&&v.vnode(o),o}function $(e){return e.children}function G(e,t){this.props=e,this.context=t}function I(e,t){if(t==null)return e.__?I(e.__,e.__i+1):null;for(var _;t<e.__k.length;t++)if((_=e.__k[t])!=null&&_.__e!=null)return _.__e;return typeof e.type=="function"?I(e):null}function Me(e){var t,_;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((_=e.__k[t])!=null&&_.__e!=null){e.__e=e.__c.base=_.__e;break}return Me(e)}}function pe(e){(!e.__d&&(e.__d=!0)&&U.push(e)&&!J.__r++||ge!=v.debounceRendering)&&((ge=v.debounceRendering)||Ae)(J)}function J(){for(var e,t,_,n,r,o,i,a=1;U.length;)U.length>a&&U.sort(Ue),e=U.shift(),a=U.length,e.__d&&(_=void 0,n=void 0,r=(n=(t=e).__v).__e,o=[],i=[],t.__P&&((_=T({},n)).__v=n.__v+1,v.vnode&&v.vnode(_),ue(t.__P,_,n,t.__n,t.__P.namespaceURI,32&n.__u?[r]:null,o,r??I(n),!!(32&n.__u),i),_.__v=n.__v,_.__.__k[_.__i]=_,xe(o,_,i),n.__e=n.__=null,_.__e!=r&&Me(_)));J.__r=0}function Ie(e,t,_,n,r,o,i,a,c,l,u){var s,h,f,y,E,b,g,d=n&&n.__k||Le,N=t.length;for(c=Qe(_,t,d,c,N),s=0;s<N;s++)(f=_.__k[s])!=null&&(h=f.__i==-1?B:d[f.__i]||B,f.__i=s,b=ue(e,f,h,r,o,i,a,c,l,u),y=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&fe(h.ref,null,f),u.push(f.ref,f.__c||y,f)),E==null&&y!=null&&(E=y),(g=!!(4&f.__u))||h.__k===f.__k?c=ke(f,c,e,g):typeof f.type=="function"&&b!==void 0?c=b:y&&(c=y.nextSibling),f.__u&=-7);return _.__e=E,c}function Qe(e,t,_,n,r){var o,i,a,c,l,u=_.length,s=u,h=0;for(e.__k=new Array(r),o=0;o<r;o++)(i=t[o])!=null&&typeof i!="boolean"&&typeof i!="function"?(c=o+h,(i=e.__k[o]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Y(null,i,null,null,null):X(i)?Y($,{children:i},null,null,null):i.constructor==null&&i.__b>0?Y(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,a=null,(l=i.__i=Xe(i,_,c,s))!=-1&&(s--,(a=_[l])&&(a.__u|=2)),a==null||a.__v==null?(l==-1&&(r>u?h--:r<u&&h++),typeof i.type!="function"&&(i.__u|=4)):l!=c&&(l==c-1?h--:l==c+1?h++:(l>c?h--:h++,i.__u|=4))):e.__k[o]=null;if(s)for(o=0;o<u;o++)(a=_[o])!=null&&(2&a.__u)==0&&(a.__e==n&&(n=I(a)),Oe(a,a));return n}function ke(e,t,_,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=ke(r[o],t,_,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=I(e)),_.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Xe(e,t,_,n){var r,o,i,a=e.key,c=e.type,l=t[_],u=l!=null&&(2&l.__u)==0;if(l===null&&e.key==null||u&&a==l.key&&c==l.type)return _;if(n>(u?1:0)){for(r=_-1,o=_+1;r>=0||o<t.length;)if((l=t[i=r>=0?r--:o++])!=null&&(2&l.__u)==0&&a==l.key&&c==l.type)return i}return-1}function ve(e,t,_){t[0]=="-"?e.setProperty(t,_??""):e[t]=_==null?"":typeof _!="number"||Ke.test(t)?_:_+"px"}function C(e,t,_,n,r){var o,i;e:if(t=="style")if(typeof _=="string")e.style.cssText=_;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)_&&t in _||ve(e.style,t,"");if(_)for(t in _)n&&_[t]==n[t]||ve(e.style,t,_[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace($e,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=_,_?n?_.u=n.u:(_.u=ae,e.addEventListener(t,o?ne:_e,o)):e.removeEventListener(t,o?ne:_e,o);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&_==1?"":_))}}function me(e){return function(t){if(this.l){var _=this.l[t.type+e];if(t.t==null)t.t=ae++;else if(t.t<_.u)return;return _(v.event?v.event(t):t)}}}function ue(e,t,_,n,r,o,i,a,c,l){var u,s,h,f,y,E,b,g,d,N,H,F,k,he,W,x,Z,S=t.type;if(t.constructor!=null)return null;128&_.__u&&(c=!!(32&_.__u),o=[a=t.__e=_.__e]),(u=v.__b)&&u(t);e:if(typeof S=="function")try{if(g=t.props,d="prototype"in S&&S.prototype.render,N=(u=S.contextType)&&n[u.__c],H=u?N?N.props.value:u.__:n,_.__c?b=(s=t.__c=_.__c).__=s.__E:(d?t.__c=s=new S(g,H):(t.__c=s=new G(g,H),s.constructor=S,s.render=et),N&&N.sub(s),s.props=g,s.state||(s.state={}),s.context=H,s.__n=n,h=s.__d=!0,s.__h=[],s._sb=[]),d&&s.__s==null&&(s.__s=s.state),d&&S.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=T({},s.__s)),T(s.__s,S.getDerivedStateFromProps(g,s.__s))),f=s.props,y=s.state,s.__v=t,h)d&&S.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),d&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(d&&S.getDerivedStateFromProps==null&&g!==f&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(g,H),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(g,s.__s,H)===!1||t.__v==_.__v){for(t.__v!=_.__v&&(s.props=g,s.state=s.__s,s.__d=!1),t.__e=_.__e,t.__k=_.__k,t.__k.some(function(L){L&&(L.__=t)}),F=0;F<s._sb.length;F++)s.__h.push(s._sb[F]);s._sb=[],s.__h.length&&i.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(g,s.__s,H),d&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(f,y,E)})}if(s.context=H,s.props=g,s.__P=e,s.__e=!1,k=v.__r,he=0,d){for(s.state=s.__s,s.__d=!1,k&&k(t),u=s.render(s.props,s.state,s.context),W=0;W<s._sb.length;W++)s.__h.push(s._sb[W]);s._sb=[]}else do s.__d=!1,k&&k(t),u=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++he<25);s.state=s.__s,s.getChildContext!=null&&(n=T(T({},n),s.getChildContext())),d&&!h&&s.getSnapshotBeforeUpdate!=null&&(E=s.getSnapshotBeforeUpdate(f,y)),x=u,u!=null&&u.type===$&&u.key==null&&(x=Be(u.props.children)),a=Ie(e,X(x)?x:[x],t,_,n,r,o,i,a,c,l),s.base=t.__e,t.__u&=-161,s.__h.length&&i.push(s),b&&(s.__E=s.__=null)}catch(L){if(t.__v=null,c||o!=null)if(L.then){for(t.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,t.__e=a}else{for(Z=o.length;Z--;)ce(o[Z]);oe(t)}else t.__e=_.__e,t.__k=_.__k,L.then||oe(t);v.__e(L,t,_)}else o==null&&t.__v==_.__v?(t.__k=_.__k,t.__e=_.__e):a=t.__e=Ze(_.__e,t,_,n,r,o,i,c,l);return(u=v.diffed)&&u(t),128&t.__u?void 0:a}function oe(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(oe)}function xe(e,t,_){for(var n=0;n<_.length;n++)fe(_[n],_[++n],_[++n]);v.__c&&v.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(o){o.call(r)})}catch(o){v.__e(o,r.__v)}})}function Be(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:X(e)?e.map(Be):T({},e)}function Ze(e,t,_,n,r,o,i,a,c){var l,u,s,h,f,y,E,b=_.props,g=t.props,d=t.type;if(d=="svg"?r="http://www.w3.org/2000/svg":d=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((f=o[l])&&"setAttribute"in f==!!d&&(d?f.localName==d:f.nodeType==3)){e=f,o[l]=null;break}}if(e==null){if(d==null)return document.createTextNode(g);e=document.createElementNS(r,d,g.is&&g),a&&(v.__m&&v.__m(t,o),a=!1),o=null}if(d==null)b===g||a&&e.data==g||(e.data=g);else{if(o=o&&Q.call(e.childNodes),b=_.props||B,!a&&o!=null)for(b={},l=0;l<e.attributes.length;l++)b[(f=e.attributes[l]).name]=f.value;for(l in b)if(f=b[l],l!="children"){if(l=="dangerouslySetInnerHTML")s=f;else if(!(l in g)){if(l=="value"&&"defaultValue"in g||l=="checked"&&"defaultChecked"in g)continue;C(e,l,null,f,r)}}for(l in g)f=g[l],l=="children"?h=f:l=="dangerouslySetInnerHTML"?u=f:l=="value"?y=f:l=="checked"?E=f:a&&typeof f!="function"||b[l]===f||C(e,l,f,b[l],r);if(u)a||s&&(u.__html==s.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(s&&(e.innerHTML=""),Ie(t.type=="template"?e.content:e,X(h)?h:[h],t,_,n,d=="foreignObject"?"http://www.w3.org/1999/xhtml":r,o,i,o?o[0]:_.__k&&I(_,0),a,c),o!=null)for(l=o.length;l--;)ce(o[l]);a||(l="value",d=="progress"&&y==null?e.removeAttribute("value"):y!=null&&(y!==e[l]||d=="progress"&&!y||d=="option"&&y!=b[l])&&C(e,l,y,b[l],r),l="checked",E!=null&&E!=e[l]&&C(e,l,E,b[l],r))}return e}function fe(e,t,_){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(r){v.__e(r,_)}}function Oe(e,t,_){var n,r;if(v.unmount&&v.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||fe(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){v.__e(o,t)}n.base=n.__P=null}if(n=e.__k)for(r=0;r<n.length;r++)n[r]&&Oe(n[r],t,_||typeof e.type!="function");_||ce(e.__e),e.__c=e.__=e.__e=void 0}function et(e,t,_){return this.constructor(e,_)}function tt(e,t,_){var n,r,o,i;t==document&&(t=document.documentElement),v.__&&v.__(e,t),r=(n=!1)?null:t.__k,o=[],i=[],ue(t,e=t.__k=ze($,null,[e]),r||B,B,t.namespaceURI,r?null:t.firstChild?Q.call(t.childNodes):null,o,r?r.__e:t.firstChild,n,i),xe(o,e,i)}Q=Le.slice,v={__e:function(e,t,_,n){for(var r,o,i;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(e)),i=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,n||{}),i=r.__d),i)return r.__E=r}catch(a){e=a}throw e}},De=0,G.prototype.setState=function(e,t){var _;_=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=T({},this.state),typeof e=="function"&&(e=e(T({},_),this.props)),e&&T(_,e),e!=null&&this.__v&&(t&&this._sb.push(t),pe(this))},G.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),pe(this))},G.prototype.render=$,U=[],Ae=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ue=function(e,t){return e.__v.__b-t.__v.__b},J.__r=0,$e=/(PointerCapture)$|Capture$/i,ae=0,_e=me(!1),ne=me(!0);var _t=0;function p(e,t,_,n,r,o){t||(t={});var i,a,c=t;if("ref"in c)for(a in c={},t)a=="ref"?i=t[a]:c[a]=t[a];var l={type:e,props:c,key:_,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--_t,__i:-1,__u:0,__source:r,__self:o};if(typeof e=="function"&&(i=e.defaultProps))for(a in i)c[a]===void 0&&(c[a]=i[a]);return v.vnode&&v.vnode(l),l}var K=(e=>(e[e.ACE=0]="ACE",e[e.TWO=1]="TWO",e[e.THREE=2]="THREE",e[e.FOUR=3]="FOUR",e[e.FIVE=4]="FIVE",e[e.SIX=5]="SIX",e[e.SEVEN=6]="SEVEN",e[e.EIGHT=7]="EIGHT",e[e.NINE=8]="NINE",e[e.TEN=9]="TEN",e[e.JACK=10]="JACK",e[e.QUEEN=11]="QUEEN",e[e.KING=12]="KING",e))(K||{}),Fe=(e=>(e[e.CLUBS=0]="CLUBS",e[e.HEARTS=1]="HEARTS",e[e.SPADES=2]="SPADES",e[e.DIAMONDS=3]="DIAMONDS",e))(Fe||{});const nt=new Map([[0,11],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,10],[11,10],[12,10]]);function A(e){let t=0,_=0;for(const n of e)n.rank===0&&++_,t+=nt.get(n.rank);for(;_>0&&t>21;)t-=10,--_;return t}const ot="/assets/PlayingCards-BvUuumn9.svg",q=242,R=336.5,st=R*.5,rt=q*.5,it=Object.values(Fe).filter(e=>typeof e=="number").flatMap(e=>Object.values(K).filter(t=>typeof t=="number").map(t=>{const _=Number(t)*q,n=Number(e)*R,r=`card-${e}-${t}`;return p("symbol",{id:r,viewBox:`0 0 ${q} ${R}`,children:p("image",{href:ot,x:-_,y:-n,width:q*13,height:R*4})},r)})),lt=()=>p("svg",{style:{display:"none"},children:it});function at(e){return p("div",{class:"card",children:p("svg",{width:rt,height:st,children:p("use",{href:`#card-${e.suit}-${e.rank}`})})})}function ye(e){return p($,{children:[p("p",{children:["Score: ",e.handValue??A(e.hand)]}),p("div",{className:"hand",children:e.hand.map(t=>p(at,{...t}))})]})}class ct{constructor(t=6){this.deckCount=t,this.cards=[],this.count=()=>this.cards.length,this.isEmpty=()=>this.cards.length===0,this.reset(),this.shuffle()}reset(){this.cards=[];for(let t=0;t<6;++t)for(let _=K.ACE;_<=K.KING;++_)for(let n=0;n<4;++n)this.cards.push({rank:_,suit:n})}shuffle(){for(let t=this.cards.length-1;t>0;--t){const _=Math.floor(Math.random()*(t+1));[this.cards[t],this.cards[_]]=[this.cards[_],this.cards[t]]}}draw(){if(this.isEmpty()){console.error("Deck is empty");return}return this.cards.pop()}}var O,m,ee,be,z=0,We=[],w=v,we=w.__b,Ee=w.__r,Ne=w.diffed,He=w.__c,Se=w.unmount,Pe=w.__;function de(e,t){w.__h&&w.__h(m,e,z||t),z=0;var _=m.__H||(m.__H={__:[],__h:[]});return e>=_.__.length&&_.__.push({}),_.__[e]}function V(e){return z=1,ut(Ye,e)}function ut(e,t,_){var n=de(O++,2);if(n.t=e,!n.__c&&(n.__=[Ye(void 0,t),function(a){var c=n.__N?n.__N[0]:n.__[0],l=n.t(c,a);c!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=m,!m.__f)){var r=function(a,c,l){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!o||o.call(this,a,c,l);var s=n.__c.props!==a;return u.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(s=!0)}}),o&&o.call(this,a,c,l)||s};m.__f=!0;var o=m.shouldComponentUpdate,i=m.componentWillUpdate;m.componentWillUpdate=function(a,c,l){if(this.__e){var u=o;o=void 0,r(a,c,l),o=u}i&&i.call(this,a,c,l)},m.shouldComponentUpdate=r}return n.__N||n.__}function te(e,t){var _=de(O++,3);!w.__s&&Ve(_.__H,t)&&(_.__=e,_.u=t,m.__H.__h.push(_))}function Ce(e){return z=5,se(function(){return{current:e}},[])}function se(e,t){var _=de(O++,7);return Ve(_.__H,t)&&(_.__=e(),_.__H=t,_.__h=e),_.__}function ft(){for(var e;e=We.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(j),e.__H.__h.forEach(re),e.__H.__h=[]}catch(t){e.__H.__h=[],w.__e(t,e.__v)}}w.__b=function(e){m=null,we&&we(e)},w.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Pe&&Pe(e,t)},w.__r=function(e){Ee&&Ee(e),O=0;var t=(m=e.__c).__H;t&&(ee===m?(t.__h=[],m.__h=[],t.__.forEach(function(_){_.__N&&(_.__=_.__N),_.u=_.__N=void 0})):(t.__h.forEach(j),t.__h.forEach(re),t.__h=[],O=0)),ee=m},w.diffed=function(e){Ne&&Ne(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(We.push(t)!==1&&be===w.requestAnimationFrame||((be=w.requestAnimationFrame)||dt)(ft)),t.__H.__.forEach(function(_){_.u&&(_.__H=_.u),_.u=void 0})),ee=m=null},w.__c=function(e,t){t.some(function(_){try{_.__h.forEach(j),_.__h=_.__h.filter(function(n){return!n.__||re(n)})}catch(n){t.some(function(r){r.__h&&(r.__h=[])}),t=[],w.__e(n,_.__v)}}),He&&He(e,t)},w.unmount=function(e){Se&&Se(e);var t,_=e.__c;_&&_.__H&&(_.__H.__.forEach(function(n){try{j(n)}catch(r){t=r}}),_.__H=void 0,t&&w.__e(t,_.__v))};var Te=typeof requestAnimationFrame=="function";function dt(e){var t,_=function(){clearTimeout(n),Te&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(_,35);Te&&(t=requestAnimationFrame(_))}function j(e){var t=m,_=e.__c;typeof _=="function"&&(e.__c=void 0,_()),m=t}function re(e){var t=m;e.__c=e.__(),m=t}function Ve(e,t){return!e||e.length!==t.length||t.some(function(_,n){return _!==e[n]})}function Ye(e,t){return typeof t=="function"?t(e):t}var D=(e=>(e[e.NONE=0]="NONE",e[e.BETTING=1]="BETTING",e[e.PLAYER_TURN=2]="PLAYER_TURN",e[e.DEALER_TURN=3]="DEALER_TURN",e[e.GAME_OVER=4]="GAME_OVER",e))(D||{});class Ge{}class qe{}class Re{}class ie{}class le{}class je{}class M{constructor(t,_){this.score=t,this.hand=_}}function ht(e){const t=Ce(null),[_,n]=V(2),[r,o]=V([]),[i,a]=V([]),c=se(()=>A(i),[i]),l=se(()=>A(r),[r]),[u,s]=V(!1);te(()=>{t.current=new ct,h()},[]);const h=async()=>{u||(s(!0),n(0),t.current.reset(),t.current.shuffle(),o([]),a([]),await e?.(new Re),n(1),s(!1))},f=async()=>{if(u)return;s(!0),n(0);const g=[t.current.draw()];o(g),await e?.(new M(A(g),g));let d=[t.current.draw()];a(d),await e?.(new M(A(d),d)),d=[...d,t.current.draw()];const N=A(d);a(d),await e?.(new M(N,d)),N<21?n(2):n(3),s(!1)},y=async()=>{if(u)return;s(!0),await e?.(new Ge);const g=[...i,t.current.draw()];a(g);const d=A(g);if(await e?.(new M(d,g)),d>21){n(4);return}if(d===21){n(3),s(!1);return}s(!1)},E=async()=>{u||(s(!0),await e?.(new qe),n(3),s(!1))},b=async()=>{await f()};return te(()=>{if(_!==3||u)return;if(l>=17){s(!0),n(4);return}(async()=>{s(!0),await new Promise(H=>setTimeout(H,1e3));const d=[...r,t.current.draw()],N=A(d);o(d),await e?.(new M(N,d)),s(!1)})()},[_,r,u]),te(()=>{if(_!==4)return;(async()=>{s(!0),c>21?await e?.(new le):l>21?await e?.(new ie):c>l?await e?.(new ie):c<l?await e?.(new le):await e?.(new je),s(!1)})()},[_]),{status:_,playerHand:i,dealerHand:r,playerScore:c,dealerScore:l,isProcessing:u,hit:y,stand:E,bet:b,restart:h}}const gt="/assets/10-CWq3FW1Z.ogg",pt="/assets/11-CLIJw4pw.ogg",vt="/assets/12-DSUqvtOr.ogg",mt="/assets/13-h6TOihet.ogg",yt="/assets/14-BiIY3nEr.ogg",bt="/assets/15-Dm_vFfs7.ogg",wt="/assets/16-gDyBEAu0.ogg",Et="/assets/17-CBGQJr5U.ogg",Nt="/assets/18-C5-BKAzE.ogg",Ht="/assets/19-B2TVQX_M.ogg",St="/assets/2-D8-yZNd9.ogg",Pt="/assets/20-CiH1Y3UU.ogg",Tt="/assets/21-Do6lb1im.ogg",Dt="/assets/3-FtlqN2Sm.ogg",At="/assets/4-BA1M41Co.ogg",Ut="/assets/5-Dl4OUZnU.ogg",$t="/assets/6-BymzZlCn.ogg",Lt="/assets/7-CUnDywB4.ogg",Mt="/assets/8-jDF5uX1b.ogg",It="/assets/9-S1GDco3p.ogg",kt="/assets/HookLoop-VqrS74Rf.ogg",xt="/assets/bet-DYmhGgv5.ogg",Bt="/assets/blackjack-hPlISxkA.ogg",Ot="/assets/bust-B5oiwMrW.ogg",Ft="/assets/double-BNWzgYbd.ogg",Wt="/assets/hit-C14N0pTD.ogg",Ct="/assets/lose-Ds7WvSt3.ogg",Vt="/assets/push-BpBmYWV_.ogg",Yt="/assets/split-I3JjJvls.ogg",Gt="/assets/stand-CJfDrmTN.ogg",qt="/assets/win-CF2p-cws.ogg",Rt=Object.assign({"./assets/audio/10.ogg":gt,"./assets/audio/11.ogg":pt,"./assets/audio/12.ogg":vt,"./assets/audio/13.ogg":mt,"./assets/audio/14.ogg":yt,"./assets/audio/15.ogg":bt,"./assets/audio/16.ogg":wt,"./assets/audio/17.ogg":Et,"./assets/audio/18.ogg":Nt,"./assets/audio/19.ogg":Ht,"./assets/audio/2.ogg":St,"./assets/audio/20.ogg":Pt,"./assets/audio/21.ogg":Tt,"./assets/audio/3.ogg":Dt,"./assets/audio/4.ogg":At,"./assets/audio/5.ogg":Ut,"./assets/audio/6.ogg":$t,"./assets/audio/7.ogg":Lt,"./assets/audio/8.ogg":Mt,"./assets/audio/9.ogg":It,"./assets/audio/HookLoop.ogg":kt,"./assets/audio/bet.ogg":xt,"./assets/audio/blackjack.ogg":Bt,"./assets/audio/bust.ogg":Ot,"./assets/audio/double.ogg":Ft,"./assets/audio/hit.ogg":Wt,"./assets/audio/lose.ogg":Ct,"./assets/audio/push.ogg":Vt,"./assets/audio/split.ogg":Yt,"./assets/audio/stand.ogg":Gt,"./assets/audio/win.ogg":qt}),Je=new Map,P=new Map;for(const[e,t]of Object.entries(Rt)){const n=(e.split("/").pop()||"").replace(".ogg",""),r=Number(n);if(!Number.isNaN(r)){Je.set(r,t);continue}P[n]=t}function jt(){const e=async o=>new Promise(i=>{const a=r.current;if(!a)return i();const c=()=>{a.removeEventListener("ended",c),i()};a.addEventListener("ended",c),a.src=o,a.play().catch(()=>{a.removeEventListener("ended",c),i()})}),_=ht(async o=>{if(o instanceof M){const i=o.score;if(i===21&&o.hand.length===2){await e(P.blackjack);return}if(i>21){await e(P.bust);return}await e(Je.get(i));return}if(o instanceof ie){await e(P.win);return}if(o instanceof le){await e(P.lose);return}if(o instanceof Ge){await e(P.hit);return}if(o instanceof qe){await e(P.stand);return}if(o instanceof je){await e(P.push);return}if(o instanceof Re){await e(P.bet);return}}),n=Jt(_),r=Ce();return p($,{children:[p("audio",{src:"",autoPlay:!1,ref:r}),p("p",{id:"game-message",children:p("strong",{children:n})}),p("section",{children:[p("h3",{children:"Dealer"}),p(ye,{hand:_.dealerHand,handValue:_.dealerScore}),p("hr",{}),p("h3",{children:"You"}),p(ye,{hand:_.playerHand,handValue:_.playerScore})]}),p("hr",{}),p("div",{id:"action-btn-container",className:"btn-container",children:[p("button",{id:"bet-btn",onClick:_.bet,disabled:_.isProcessing||_.status!==D.BETTING,children:"Bet"}),p("button",{id:"hit-btn",onClick:_.hit,disabled:_.isProcessing||_.status!==D.PLAYER_TURN||_.playerScore>=21,children:"Hit"}),p("button",{id:"stand-btn",onClick:_.stand,disabled:_.isProcessing||_.status!==D.PLAYER_TURN,children:"Stand"}),p("button",{id:"restart-btn",onClick:_.restart,disabled:_.isProcessing||_.status!==D.GAME_OVER,children:"Play Again"})]})]})}function Jt(e){return e.status===D.NONE?"...":e.status===D.BETTING?"Place your bet":e.status===D.PLAYER_TURN?"Your turn":e.status===D.DEALER_TURN?"Dealer's turn":e.playerScore>21?"Bust! You lose.":e.dealerScore>21?"Dealer Busts! You win!":e.playerScore>e.dealerScore?"You win!":e.playerScore<e.dealerScore?"Dealer wins.":"Push!"}function Kt(){return p($,{children:[p(lt,{}),p(jt,{})]})}tt(p(Kt,{}),document.getElementById("app"));
